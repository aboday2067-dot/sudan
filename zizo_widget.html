<!-- 
    Widget Ø²ÙŠØ²Ùˆ Ù„Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©
    Ù‚Ø§Ø¨Ù„ Ù„Ù„Ù†Ø³Ø® ÙˆØ§Ù„Ù„ØµÙ‚ ÙÙŠ Ø£ÙŠ Ù…ÙˆÙ‚Ø¹
    
    ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:
    1. Ø§Ù†Ø³Ø® Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ ÙƒØ§Ù…Ù„Ø§Ù‹
    2. Ø§Ù„ØµÙ‚Ù‡ Ù‚Ø¨Ù„ </body> ÙÙŠ ØµÙØ­Ø§Øª Ù…ÙˆÙ‚Ø¹Ùƒ
    3. ØºÙŠÙ‘Ø± Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ù†ØµÙˆØµ Ø­Ø³Ø¨ Ø±ØºØ¨ØªÙƒ
    4. Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ 24/7!
-->

<!-- Ø£Ù†Ù…Ø§Ø· CSS Ù„Ù„Ø´Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ - ÙŠÙ…ÙƒÙ† Ù†Ù‚Ù„Ù‡ Ø¥Ù„Ù‰ Ù…Ù„Ù CSS Ù…Ù†ÙØµÙ„) -->
<style>
    #zizo-widget * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    /* Ø²Ø± Ø§Ù„Ø´Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
    #zizo-chat-button {
        position: fixed;
        bottom: 20px;
        left: 20px;
        width: 70px;
        height: 70px;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: 3px solid white;
        color: white;
        font-size: 35px;
        cursor: pointer;
        box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        z-index: 999999;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        animation: zizo-pulse 2s infinite;
    }
    
    #zizo-chat-button:hover {
        transform: scale(1.1);
        box-shadow: 0 8px 30px rgba(102, 126, 234, 0.6);
    }
    
    @keyframes zizo-pulse {
        0% {
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }
        50% {
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.8), 
                        0 0 0 10px rgba(102, 126, 234, 0.1);
        }
        100% {
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }
    }
    
    /* Ù†Ø§ÙØ°Ø© Ø§Ù„Ø´Ø§Øª */
    #zizo-chat-window {
        position: fixed;
        bottom: 20px;
        left: 20px;
        width: 380px;
        height: 550px;
        border-radius: 20px;
        box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        z-index: 999998;
        display: none;
        background: white;
        overflow: hidden;
        animation: zizo-slide-in 0.3s ease-out;
    }
    
    @keyframes zizo-slide-in {
        from {
            transform: translateY(20px) scale(0.95);
            opacity: 0;
        }
        to {
            transform: translateY(0) scale(1);
            opacity: 1;
        }
    }
    
    /* Ø±Ø£Ø³ Ø§Ù„Ø´Ø§Øª */
    .zizo-chat-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 15px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .zizo-chat-header h3 {
        margin: 0;
        font-size: 18px;
        font-weight: 600;
    }
    
    .zizo-chat-header .status {
        font-size: 12px;
        opacity: 0.9;
        display: flex;
        align-items: center;
        gap: 5px;
    }
    
    .zizo-status-dot {
        width: 8px;
        height: 8px;
        background: #4ade80;
        border-radius: 50%;
        animation: zizo-blink 2s infinite;
    }
    
    @keyframes zizo-blink {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.3; }
    }
    
    .zizo-close-btn {
        background: rgba(255,255,255,0.2);
        border: none;
        color: white;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 20px;
        line-height: 1;
        transition: all 0.2s;
    }
    
    .zizo-close-btn:hover {
        background: rgba(255,255,255,0.3);
        transform: rotate(90deg);
    }
    
    /* Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø´Ø§Øª (iframe) */
    .zizo-chat-content {
        width: 100%;
        height: calc(100% - 70px);
        border: none;
    }
    
    /* Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨ÙŠØ© */
    .zizo-welcome-tooltip {
        position: fixed;
        bottom: 100px;
        left: 20px;
        background: white;
        padding: 15px 20px;
        border-radius: 15px;
        box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        max-width: 280px;
        z-index: 999997;
        animation: zizo-tooltip-in 0.5s ease-out;
    }
    
    @keyframes zizo-tooltip-in {
        from {
            transform: translateX(-20px);
            opacity: 0;
        }
        to {
            transform: translateX(0);
            opacity: 1;
        }
    }
    
    .zizo-welcome-tooltip p {
        margin: 0;
        color: #333;
        font-size: 14px;
        line-height: 1.5;
    }
    
    .zizo-welcome-tooltip strong {
        color: #667eea;
    }
    
    .zizo-welcome-tooltip::after {
        content: '';
        position: absolute;
        bottom: -8px;
        left: 30px;
        width: 0;
        height: 0;
        border-left: 8px solid transparent;
        border-right: 8px solid transparent;
        border-top: 8px solid white;
    }
    
    /* ØªØµÙ…ÙŠÙ… Ù…ØªØ¬Ø§ÙˆØ¨ */
    @media (max-width: 768px) {
        #zizo-chat-window {
            width: calc(100% - 20px);
            height: calc(100% - 100px);
            left: 10px;
            bottom: 90px;
            border-radius: 15px;
        }
        
        #zizo-chat-button {
            width: 60px;
            height: 60px;
            font-size: 30px;
        }
        
        .zizo-welcome-tooltip {
            max-width: calc(100% - 100px);
        }
    }
</style>

<!-- ÙƒÙˆØ¯ JavaScript Ù„Ù„Ø´Ø§Øª -->
<script>
(function() {
    'use strict';
    
    // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ®ØµÙŠØµ
    const ZIZO_CONFIG = {
        // Ø±Ø§Ø¨Ø· ØªØ·Ø¨ÙŠÙ‚ Ø²ÙŠØ²Ùˆ (ØºÙŠÙ‘Ø±Ù‡ Ø¥Ù„Ù‰ Ø±Ø§Ø¨Ø·Ùƒ Ø§Ù„Ø¯Ø§Ø¦Ù… Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø´Ø±)
        chatUrl: 'https://5000-ik098qc46w5n2q8a9szme-5185f4aa.sandbox.novita.ai',
        
        // Ø§Ø³Ù… Ø§Ù„Ù…ØªØ¬Ø±
        storeName: 'Ø²Ù‡Ø±Ø© Ø£Ù…Ù„',
        
        // Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨
        welcomeMessage: 'ğŸ‘‹ Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø£Ù†Ø§ Ø²ÙŠØ²ÙˆØŒ Ù…Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ø°ÙƒÙŠ. ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŸ',
        
        // Ù…Ø¯Ø© Ø¸Ù‡ÙˆØ± Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ (Ø¨Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ)
        welcomeDelay: 3,
        welcomeDuration: 7,
        
        // ØªÙ…ÙƒÙŠÙ† Ø§Ù„ØµÙˆØª
        enableSound: false,
        
        // Ù…ÙˆØ¶Ø¹ Ø§Ù„Ø´Ø§Øª (left Ø£Ùˆ right)
        position: 'left'
    };
    
    // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†Ø§ØµØ± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø´Ø§Øª
    function createChatElements() {
        const widget = document.createElement('div');
        widget.id = 'zizo-widget';
        
        // Ø²Ø± Ø§Ù„Ø´Ø§Øª
        const button = document.createElement('button');
        button.id = 'zizo-chat-button';
        button.innerHTML = 'ğŸ¤–';
        button.setAttribute('aria-label', 'ÙØªØ­ Ø§Ù„Ø´Ø§Øª Ù…Ø¹ Ø²ÙŠØ²Ùˆ');
        button.setAttribute('title', 'ØªØ­Ø¯Ø« Ù…Ø¹ Ø²ÙŠØ²Ùˆ - Ù…Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ø°ÙƒÙŠ');
        
        // Ù†Ø§ÙØ°Ø© Ø§Ù„Ø´Ø§Øª
        const chatWindow = document.createElement('div');
        chatWindow.id = 'zizo-chat-window';
        chatWindow.innerHTML = `
            <div class="zizo-chat-header">
                <div>
                    <h3>ğŸ¤– Ø²ÙŠØ²Ùˆ - Ù…Ø³Ø§Ø¹Ø¯ ${ZIZO_CONFIG.storeName}</h3>
                    <div class="status">
                        <span class="zizo-status-dot"></span>
                        <span>Ù…ØªØµÙ„ Ø§Ù„Ø¢Ù†</span>
                    </div>
                </div>
                <button class="zizo-close-btn" aria-label="Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø´Ø§Øª">âœ•</button>
            </div>
            <iframe 
                class="zizo-chat-content"
                src="${ZIZO_CONFIG.chatUrl}"
                allow="microphone"
                title="Ø´Ø§Øª Ø²ÙŠØ²Ùˆ"
            ></iframe>
        `;
        
        widget.appendChild(button);
        widget.appendChild(chatWindow);
        document.body.appendChild(widget);
        
        return { button, chatWindow };
    }
    
    // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨
    function showWelcomeMessage() {
        const tooltip = document.createElement('div');
        tooltip.className = 'zizo-welcome-tooltip';
        tooltip.innerHTML = `
            <p><strong>Ø²ÙŠØ²Ùˆ:</strong> ${ZIZO_CONFIG.welcomeMessage}</p>
        `;
        
        document.body.appendChild(tooltip);
        
        // Ø¥Ø®ÙØ§Ø¡ Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
        setTimeout(() => {
            tooltip.style.animation = 'zizo-tooltip-in 0.3s ease-out reverse';
            setTimeout(() => tooltip.remove(), 300);
        }, ZIZO_CONFIG.welcomeDuration * 1000);
        
        return tooltip;
    }
    
    // ÙØªØ­ Ø§Ù„Ø´Ø§Øª
    function openChat(chatWindow, button, tooltip) {
        chatWindow.style.display = 'block';
        button.style.display = 'none';
        
        if (tooltip) {
            tooltip.remove();
        }
        
        // ØªØªØ¨Ø¹ Ø§Ù„Ø­Ø¯Ø« (Ø§Ø®ØªÙŠØ§Ø±ÙŠ - Ù„Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª)
        if (typeof gtag !== 'undefined') {
            gtag('event', 'zizo_chat_opened', {
                'event_category': 'engagement',
                'event_label': 'Chat Widget'
            });
        }
    }
    
    // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø´Ø§Øª
    function closeChat(chatWindow, button) {
        chatWindow.style.display = 'none';
        button.style.display = 'flex';
        
        // ØªØªØ¨Ø¹ Ø§Ù„Ø­Ø¯Ø«
        if (typeof gtag !== 'undefined') {
            gtag('event', 'zizo_chat_closed', {
                'event_category': 'engagement',
                'event_label': 'Chat Widget'
            });
        }
    }
    
    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø´Ø§Øª Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    function initZizoChat() {
        // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ù†Ø§ØµØ±
        const { button, chatWindow } = createChatElements();
        const closeBtn = chatWindow.querySelector('.zizo-close-btn');
        
        let welcomeTooltip = null;
        
        // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ Ø¨Ø¹Ø¯ Ø§Ù„ØªØ£Ø®ÙŠØ±
        setTimeout(() => {
            // Ø¹Ø±Ø¶ ÙÙ‚Ø· Ø¥Ø°Ø§ Ù„Ù… ÙŠÙØªØ­ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø´Ø§Øª
            if (chatWindow.style.display !== 'block') {
                welcomeTooltip = showWelcomeMessage();
            }
        }, ZIZO_CONFIG.welcomeDelay * 1000);
        
        // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø£Ø²Ø±Ø§Ø±
        button.addEventListener('click', () => {
            openChat(chatWindow, button, welcomeTooltip);
        });
        
        closeBtn.addEventListener('click', () => {
            closeChat(chatWindow, button);
        });
        
        // Ø§Ù„Ø¥ØºÙ„Ø§Ù‚ Ø¨Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && chatWindow.style.display === 'block') {
                closeChat(chatWindow, button);
            }
        });
        
        console.log('âœ… Ø²ÙŠØ²Ùˆ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø®Ø¯Ù…Ø©!');
    }
    
    // ØªØ´ØºÙŠÙ„ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ DOM
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initZizoChat);
    } else {
        initZizoChat();
    }
    
    // Ø¥ØªØ§Ø­Ø© ÙˆØ¸Ø§Ø¦Ù Ø¹Ø§Ù…Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
    window.ZizoChat = {
        open: function() {
            document.getElementById('zizo-chat-button').click();
        },
        close: function() {
            document.querySelector('.zizo-close-btn').click();
        },
        isOpen: function() {
            const window = document.getElementById('zizo-chat-window');
            return window && window.style.display === 'block';
        }
    };
    
})();
</script>

<!-- 
    Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©:
    
    1. ØªØºÙŠÙŠØ± Ø§Ù„Ø±Ø§Ø¨Ø·:
       Ø¹Ù†Ø¯ Ù†Ø´Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù„Ù‰ Render Ø£Ùˆ RailwayØŒ 
       ØºÙŠÙ‘Ø± ZIZO_CONFIG.chatUrl Ø¥Ù„Ù‰ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø§Ø¦Ù…
    
    2. Ø§Ù„ØªØ®ØµÙŠØµ:
       ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙÙŠ CSS Ø£Ø¹Ù„Ø§Ù‡
       Ø£Ùˆ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù†ØµÙˆØµ ÙÙŠ ZIZO_CONFIG
    
    3. Ø§Ù„Ù…ÙˆØ¶Ø¹:
       Ù„ØªØºÙŠÙŠØ± Ù…ÙˆØ¶Ø¹ Ø§Ù„Ø´Ø§Øª Ù…Ù† Ø§Ù„ÙŠØ³Ø§Ø± Ø¥Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ†ØŒ
       ØºÙŠÙ‘Ø± 'left' Ø¥Ù„Ù‰ 'right' ÙÙŠ CSS
    
    4. Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠ:
       ÙŠÙ…ÙƒÙ†Ùƒ ÙØªØ­ Ø§Ù„Ø´Ø§Øª Ù…Ù† Ø£ÙŠ Ù…ÙƒØ§Ù† ÙÙŠ Ù…ÙˆÙ‚Ø¹Ùƒ:
       <button onclick="ZizoChat.open()">ØªØ­Ø¯Ø« Ù…Ø¹ Ø²ÙŠØ²Ùˆ</button>
    
    5. Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:
       Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ³ØªØ®Ø¯Ù… Google AnalyticsØŒ
       Ø³ØªÙØ³Ø¬Ù„ Ø£Ø­Ø¯Ø§Ø« ÙØªØ­/Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø´Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
-->
